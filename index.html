<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HBD-Auliaa</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
</head>
<body
  id="Body"
  class="bg-cover bg-center min-h-screen flex justify-center items-center relative"
  style="background-image: url('https://i.pinimg.com/originals/40/0f/00/400f007bade76022eb839fdbb5acf646.gif');"
>
  <!-- 🔊 BACKSOUND -->
  <audio id="backsound" src="Tender Strength.mp3" loop></audio>

  <!-- 🎛️ KONTROL VOLUME (pojok kiri bawah) -->
  <div id="volumeControl" class="absolute bottom-4 left-4 flex items-center gap-2 bg-white/70 px-3 py-2 rounded-lg shadow-md">
    <span class="text-gray-700 font-bold text-lg">🔊</span>
    <input
      type="range"
      id="volumeSlider"
      min="0"
      max="1"
      step="0.01"
      value="1"
      class="w-24 accent-blue-700 cursor-pointer"
      oninput="aturVolume(this.value)"
    />
  </div>

  <!-- 🎉 SLIDE 1 -->
  <div
    id="Slide"
    class="bg-white border px-10 py-5 border-3 border-gray-300 shadow-lg shadow-gray-700 rounded-xl text-center animate__animated animate__backInDown m-8 w-80"
  >
    <h1 class="text-3xl font-semi-bold text-center">Happy Birthday</h1>
    <h1
      class="text-4xl text-blue-900 font-bold animate__animated animate__pulse animate__infinite"
    >
      - Auliaaa -
    </h1>
    <button
      class="p-2 bg-blue-600 text-white rounded mt-5 hover:bg-blue-900 transition ease-in w-full animate__animated animate__delay-1s animate__tada"
      onclick="mulaiMusik(); GantiSlide1();"
    >
      Klik untuk lanjut
    </button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
  <script>
    // ====== MUSIC FUNCTION ======
    const audio = document.getElementById("backsound");
    const volumeSlider = document.getElementById("volumeSlider");

    function mulaiMusik() {
      audio.volume = 0; // mulai dari volume 0
      audio.play().then(() => {
        let vol = 0;
        const fade = setInterval(() => {
          if (vol < 1) {
            vol += 0.05;
            audio.volume = vol;
            volumeSlider.value = vol;
          } else {
            clearInterval(fade);
          }
        }, 100);
      }).catch((err) => console.log("Autoplay diblokir:", err));
    }

    function aturVolume(nilai) {
      audio.volume = nilai;
    }

    // ====== CONFETTI SETUP ======
    const defaults = {
      spread: 360,
      ticks: 50,
      gravity: 0,
      decay: 0.94,
      startVelocity: 30,
      shapes: ["star"],
      colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
    };
    function shoot() {
      confetti({ ...defaults, particleCount: 40, scalar: 1.2 });
      confetti({ ...defaults, particleCount: 10, scalar: 0.75, shapes: ["circle"] });
    }
    setTimeout(shoot, 0);
    setTimeout(shoot, 100);
    setTimeout(shoot, 200);

    // ====== SLIDE SCRIPT ======
    const Slide = document.getElementById("Slide");
    const Body = document.getElementById("Body");

    // === SLIDE 1 -> SLIDE 2 ===
    function GantiSlide1() {
      Slide.classList.remove("animate__backInDown");
      Slide.classList.add("animate__backOutUp");
      Slide.addEventListener("animationend", tampilSlide2, { once: true });
    }

    function tampilSlide2() {
      Slide.classList.remove("animate__backOutUp");
      Slide.innerHTML = `
        <h1 class="font-semi-bold text-wrap animate__animated animate__zoomIn">
          allo seng pa kabar lama tak jumpa hehe btw happy birthday yahh, ga kerasa udah 20 thn aja nichh. 
          Semoga ditahun-tahun yang akan datang masih diberi kesehatan, kemudahan dan kelancaran 
          buat jalanin kulyeahnya terutama LAAPRAKK stay strong yahh hehe :D<br>
          kalo kamu butuh apa2 atau urgent bilang aja yah sapa tau aku bisa bantuin..hehe
        </h1>
        <h2 class="mt-3 animate__animated animate__fadeIn">- Dari : HanSkhoo -</h2>
        <button
          class="p-2 bg-blue-600 text-white rounded mt-5 hover:bg-blue-900 transition ease-in w-full animate__animated animate__delay-1s animate__tada"
          onclick="GantiSlide2()"
        >
          Lanjut Lagi
        </button>
      `;
      Slide.classList.add("animate__animated", "animate__zoomIn");
      shoot();
      setTimeout(shoot, 300);
    }

    // === SLIDE 2 -> SLIDE 3 ===
    function GantiSlide2() {
      Slide.classList.remove("animate__zoomIn");
      Slide.classList.add("animate__backOutUp");
      Slide.addEventListener("animationend", tampilSlide3, { once: true });
    }

    function tampilSlide3() {
      Slide.classList.remove("animate__backOutUp");
      Slide.innerHTML = `
        <h1 class="font-semi-bold text-wrap animate__animated animate__fadeIn">
          Semoga semua harapanmu di umur 20 ini bisa tercapai satu-satu yaa,<br>
          jangan lupa bahagia dan jaga diri baik baik yahh sengg...<br>
          btw ini aku coding sendiri jadi kalo masih berantakan maafin<br>
          Oiya aku bikinin kamu sesuatu kalo kamu ke smg bilang yah tar aku kasih ke kamu kalau gamau juga gapapa daijobuu aku juga ga maksa kok 
        </h1>
        <h2 class="mt-3 animate__animated animate__fadeIn">- Dari : HanSkhoo -</h2>
        <button
          class="p-2 bg-blue-600 text-white rounded mt-5 hover:bg-blue-900 transition ease-in w-full animate__animated animate__delay-1s animate__tada"
          onclick="GantiSlide3()"
        >
          Slide Penutup
        </button>
      `;
      Slide.classList.add("animate__animated", "animate__fadeIn");
      shoot();
      setTimeout(shoot, 300);
    }

    // === SLIDE 3 -> SLIDE 4 (penutup) ===
    function GantiSlide3() {
      Slide.classList.remove("animate__fadeIn");
      Slide.classList.add("animate__backOutUp");
      setTimeout(tampilSlide4, 800);
    }

    function tampilSlide4() {
      Body.style.backgroundImage =
        "url('https://i.pinimg.com/originals/8e/c6/f1/8ec6f1630c1f40394878290b96c74e6f.gif')";
      Body.classList.add("transition-all", "duration-700");

      Slide.className = "text-center animate__animated animate__fadeIn";
      Slide.innerHTML = `
        <h1 class="text-5xl font-bold text-white animate__animated animate__fadeInDown">
          Lop yuu sengg
        </h1>
        <h2 class="mt-5 font-bold text-white animate__animated animate__fadeInUp">
          Semoga hari ulang tahunmu penuh kebahagiaan 🎂<br>
          miss u hiks..
        </h2>
        <button
          class="p-2 bg-white text-black rounded mt-5 hover:bg-gray-500 transition ease-in w-1/2 animate__animated animate__delay-1s animate__tada"
          onclick="refreshPage()"
        >
          Ulang Lagi
        </button>
      `;
      shoot();
      setTimeout(shoot, 300);
    }

    function refreshPage() {
      location.reload();
    }
  </script>
</body>
</html>
